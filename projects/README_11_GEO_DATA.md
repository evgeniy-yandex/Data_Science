# Яндекс Практикум. Курс "Data Science". Проект "Выбор локации для скважины".

# 1  Описание проекта:
Допустим, мы работаем в добывающей компании «ГлавРосГосНефть». Нужно решить, где бурить новую скважину.

Нам предоставлены пробы нефти в трёх регионах: в каждом 10 000 месторождений, где измерили качество нефти и объём её запасов. Построим модель машинного обучения, которая поможет определить регион, где добыча принесёт наибольшую прибыль. Проанализируем возможную прибыль и риски техникой Bootstrap.

Шаги для выбора локации:

* В избранном регионе ищем месторождения, для каждого определим значения признаков.
* Строим модель и оцениваем объём запасов.
* Выбираем месторождения с самым высокими оценками значений. Количество месторождений зависит от бюджета компании и стоимости разработки одной скважины.
* Прибыль равна суммарной прибыли отобранных месторождений.

# 2  Цели проекта:
Провести исследование с целью построения математической модели и определить регион, где добыча нефти принесёт наибольшую прибыль.

Результаты исследования позволят увеличить прибыль добывающей компании «ГлавРосГосНефть».

# 3  Задачи проекта:

1. Загрузить и подготовить данные. Пояснить порядок действий.

2. Обучить и проверить модель для каждого региона:
* Разбить данные на обучающую и валидационную выборки в соотношении 75:25.
* Обучить модель и сделать предсказания на валидационной выборке.
* Сохранить предсказания и правильные ответы на валидационной выборке.
* Напечатать на экране средний запас предсказанного сырья и RMSE модели.
* Проанализировать результаты.

3. Подготовится к расчёту прибыли:
* Все ключевые значения для расчётов сохранить в отдельных переменных.
* Рассчитать достаточный объём сырья для безубыточной разработки новой скважины. Сравнить полученный объём сырья со средним запасом в каждом регионе.
* Написать выводы по этапу подготовки расчёта прибыли.

4. Написать функцию для расчёта прибыли по выбранным скважинам и предсказаниям модели:
* Выбрать скважины с максимальными значениями предсказаний.
* Просуммировать целевое значение объёма сырья, соответствующее этим предсказаниям.
* Рассчитать прибыль для полученного объёма сырья.

5. Посчитать риски и прибыль для каждого региона:
* Применить технику Bootstrap с 1000 выборок, чтобы найти распределение прибыли.
* Найти среднюю прибыль, 95%-й доверительный интервал и риск убытков. Убыток — это отрицательная прибыль.
* Написать выводы: предложить регион для разработки скважин и обоснуйте выбор.

# 4  Проверяемые гипотезы:
Проверить гипотезу среди трёх регионов есть те, в которых вероятность убытков меньше 2.5%

# 5  Описание данных:
Данные геологоразведки трёх регионов находятся в файлах:

* `geo_data_0.csv`.
* `geo_data_1.csv`.
* `geo_data_2.csv`.

Признаки:

* `id` — уникальный идентификатор скважины;
* `f0`, `f1`, `f2` — три признака точек (неважно, что они означают, но сами признаки значимы);

Целевой признак:

* `product` — объём запасов в скважине (тыс. баррелей).

Условия задачи:

* Для обучения модели подходит только линейная регрессия (остальные — недостаточно предсказуемые).
* При разведке региона исследуют 500 точек, из которых с помощью машинного обучения выбирают 200 лучших для разработки.
* Бюджет на разработку скважин в регионе — 10 млрд рублей.
* При нынешних ценах один баррель сырья приносит 450 рублей дохода. Доход с каждой единицы продукта составляет 450 тыс. рублей, поскольку объём указан в тысячах баррелей.
* После оценки рисков нужно оставить лишь те регионы, в которых вероятность убытков меньше 2.5%. Среди них выбирают регион с наибольшей средней прибылью.

Данные синтетические: детали контрактов и характеристики месторождений не разглашаются.


# 6  Общий вывод.

По результатам исследования можно отметить следующие факты и сделать следующие выводы:

1.Провести исследование с целью построения математической модели и определения одного их трёх регионов, в котором добыча нефти принесёт наибольшую прибыль.

2.Модель построена на данных по пробам нефти в трёх регионах: в каждом 100 000 месторождений, для каждого из которых были измерены качество нефти и объём её запасов.

3.Все данные были изучены и подготовлены к дальнейшим исследованиям.

4.Построена модель по всему обэему данных после разделения на обучающую и валидационную выборки. Обнаружено:

|№|Датасет|Среднее значение реального запасов сырья по полного кол-ву скважин в регионе (тыс. баррелей)|
|---|---|---|
|0|регион_1:|92.50 < 111|
|1|регион_2:|68.83 < 111|
|2|регион_3:|95.00 < 111|

Среднее значение запаса сырья по полному количеству скважин для каждого из регионов меньше, чем точка безубыточности: 111 тыс. баррелей (объём сырья для безубыточной разработки новой скважины).
Средний запас ресурсов по регионам недостаточен даже для окупаемости вложений на разработку.
Принимается решение о том, что разработку сразу всех скважин вести нерентабельно.
Из всех скважин нужно выбрать всего 200 лучших с максимальными запасами и вкладывать деньги в их запуск и производственную деятельность.
5.Проведена оценка по 200-м лучшим скважинам в каждом из регионов. Получены следующие результаты:

|№|Регион|Прибыль (млрд. руб)|
|---|---|---|
|0|Регион 3|3.321|
|1|Регион 3|2.415|
|2|Регион 3|2.540|

Таким образом, по оценке 200 лучших скважин в каждом регионе сделан вывод: "Все три региона потенциально прибыльные".

6.Выполнены предсказания при помощи линейной регрессии, а так же применена технология Bootstrap с разделением каждого предсказанного значения прибыли по регионам на 1000 выборок.

|№|Датасет|Средняя прибыль от 200 лучших скважин (млн. руб.)|95%-й доверительный интервал от 200 лучших скважин (млн. руб.)|Риск убытков при 200 лучших скважин (%)|
|---|---|---|---|---|
|0|регион_1:|394|-69 ... 915|6.1|
|1|регион_2:|455|61 ... 856|0.7|
|2|регион_3:|354|-163 ... 848|7.6|

7.Определен доверительный интервал получения прибыли в 95%.

8.Несмотря на сравнительно меньшие запасы сырья, по сравнению с другими регионами (всего 69 тыс баррелей против 93 и 95), средняя доходность с 200 лучших скважин во регионе 2 прогнозируется выше других, при наименьших рисках.

9.Наименьший риск получения убытков при разработке 200 скважин определён для региона №2.

10.При величине запасов на уровне 69 (тыс. баррелей), по показателю наименьшего риска (<2.5%) c прибыльностью на уровне 450-460 (млн. руб.) выбирается `модель разработки 200 скважин в регионе №2` (файл с исходными данными: `'geo_data_1.csv'`).

[Вернутся к общему списку](../README.md)
